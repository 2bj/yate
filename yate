#!/usr/bin/env node

require('./colors.js');

var yate = require('./yatelib.js');

var argv2 = process.argv[2];
var argv3 = process.argv[3];
var argv4 = process.argv[4];

if ( argv3 == '--ast' ) {
    var ast = yate.parse(argv2);
    console.log( yate.walk(ast).toString() );

} else if ( argv3 == '--print') {
    var ast = yate.parse(argv2);
    console.log( ast.yate() );

} else if (argv3 && argv4) {
    console.log( yate.run(argv2, argv3, argv4) );

} else if (argv3) {
    console.log( yate.run(argv2, argv3) );

} else {
    console.log( yate.compile(argv2) );

}

// vim: set filetype=javascript:

